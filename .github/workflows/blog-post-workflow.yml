name: Latest blog post workflow
on:
    schedule:
        - cron: '0 * * * *'
    push:
      branches:
        - main

jobs:
    update-readme-with-blog:
        name: Update this repo's README with latest blog posts
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - uses: gautamkrishnar/blog-post-workflow@master
              with:
                max_post_count: "5"
                feed_list: "https://medium.com/feed/@nicko170"
                template: "- *$date: $title*: $description $newline"
                filter_comments: "medium"
                tag_post_pre_newline: "true"
                item_exec: |
                     post.description = post.description.replace(/<img\/?[^>]+(>|$)/g, ""); 
